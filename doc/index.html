<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">Home | favalid</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="validator framework"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="favalid"><meta property="twitter:description" content="validator framework"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/akito0107/favalid"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-asyncCombine">asyncCombine</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-asyncCombineWithReducer">asyncCombineWithReducer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-asyncTester">asyncTester</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-toAsync">toAsync</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-combine">combine</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-combineWithReducer">combineWithReducer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-defaultReducer">defaultReducer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-tester">tester</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-defaultLocaleProvider">defaultLocaleProvider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-messagersWithLocale">messagersWithLocale</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-schema">schema</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isBlank">isBlank</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isString">isString</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-strlen">strlen</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#examples">examples</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-asyncValidator">asyncValidator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-asyncValidatorWithReason">asyncValidatorWithReason</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-emailValidator">emailValidator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-emailValidatorWithMultipleErrorReducer">emailValidatorWithMultipleErrorReducer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-emailValidatorWithReducer">emailValidatorWithReducer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-halfKanaValidator">halfKanaValidator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-passwordConfirmationValidator">passwordConfirmationValidator</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#validators">validators</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-date">date</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-date">date</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-numbers">numbers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-numbers">numbers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-numbers">numbers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-numbers">numbers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-numbers">numbers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-numbers">numbers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-numbers">numbers</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-required">required</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-strings">strings</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-strings">strings</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-strings">strings</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#validators---tests--">validators/__tests__</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-asyncHelper">asyncHelper</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-helper">helper</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="favalid">favalid</h1><p><a href="https://greenkeeper.io/"><img src="https://badges.greenkeeper.io/akito0107/favalid.svg" alt="Greenkeeper badge"></a></p>
<p>Validator Framework for javascript.</p>
<p><a href="https://badge.fury.io/js/favalid"><img src="https://badge.fury.io/js/favalid.svg" alt="npm version"></a>
<a href="https://circleci.com/gh/akito0107/favalid"><img src="https://circleci.com/gh/akito0107/favalid.svg?style=svg" alt="CircleCI"></a>
<a href="https://codeclimate.com/github/akito0107/favalid/test_coverage"><img src="https://api.codeclimate.com/v1/badges/6589638b133763bcc95a/test_coverage" alt="Test Coverage"></a>
<a href="https://codeclimate.com/github/akito0107/favalid/maintainability"><img src="https://api.codeclimate.com/v1/badges/6589638b133763bcc95a/maintainability" alt="Maintainability"></a></p>
<h2 id="getting-started">Getting Started</h2><h3 id="prerequisites">Prerequisites</h3><ul>
<li>Node.js v8+</li>
<li>npm or yarn</li>
</ul>
<h3 id="installing">Installing</h3><pre><code><code class="source-code prettyprint">$ npm install favalid</code>
</code></pre><h3 id="usage">Usage</h3><h4 id="primitive-validator">Primitive Validator</h4><ol>
<li>Write higher order validator using <code>tester()</code>.
<code>tester()</code> takes two arguments. first argument is <code>(value: any) =&gt; bool</code> function, which represent validation rules.
Second argument is <code>() =&gt; string</code> function, which represents validation error message.</li>
</ol>
<pre><code class="lang-js"><code class="source-code prettyprint">import { tester } from &apos;favalid&apos;;

const validator = tester((targetValue) =&gt; {
  return targetValue &lt; 100;
}, () =&gt; {
  return &apos;must be less than 100&apos;;
})</code>
</code></pre>
<ol start="2">
<li>Use it!
<code>tester()</code> returns simple validator function, <code>(value: any) =&gt; ({error: bool, message: string})</code>.</li>
</ol>
<pre><code class="lang-js"><code class="source-code prettyprint">console.log(validator(99)); // =&gt; { error: false, message: &apos;&apos; }
console.log(validator(101)); // =&gt; { error: true, message: &apos;must ne less than 100&apos; }</code>
</code></pre>
<h4 id="combined-validator">Combined Validator</h4><ol>
<li>You can combine these validators using <code>combine(...validators)</code>.
<code>combine()</code> returns also validator.</li>
</ol>
<pre><code class="lang-js"><code class="source-code prettyprint">import { tester, combine } from &apos;favalid&apos;;
const validator1 = tester((targetValue) =&gt; {
  return targetValue &lt; 100;
}, () =&gt; {
  return &apos;must be less than 100&apos;;
})

const validator2 = tester((targetValue) =&gt; {
  return targetValue &gt; 20;
}, () =&gt; {
  return &apos;must be higher than 20&apos;;
})

const combinedValidator = combine(validator1, validator2)</code>
</code></pre>
<ol start="2">
<li>Use it.</li>
</ol>
<pre><code class="lang-js"><code class="source-code prettyprint">console.log(combinedValidator(80)) // { error: false, message: &apos;&apos; }

console.log(combinedValidator(101)) // { error: true, message: &apos;must be less than 100&apos; }

console.log(combinedValidator(19)) // { error: true, message: &apos;must be higher than 20&apos; }</code>
</code></pre>
<p>If target values are failed multiple tests, combined validator returns first failed message. </p>
<pre><code class="lang-js"><code class="source-code prettyprint"> import { tester, combine } from &apos;favalid&apos;;
 const minLength = tester((targetValue) =&gt; {
   return [...targetValue].length &gt; 2;
 }, () =&gt; {
   return &apos;too few letters&apos;;
 })

 const regex = tester((targetValue) =&gt; {
   return /^[a-zA-Z]+$/.test(targetValue) // only contains alphabet letters.
 }, () =&gt; {
   return &apos;invalid format&apos;;
 })

 const combinedValidator = combine(minLength, regex)

 console.log(combinedValidator(&apos;a&apos;)) // { error: true, message: &apos;too few letters&apos; }

 console.log(combinedValidator(&apos;1&apos;)) // { error: true, message: &apos;too few letters&apos; }

 console.log(combinedValidator(&apos;asdf1&apos;)) // {  error: true, message: &apos;invalid format&apos; }
</code>
</code></pre>
<h4 id="using-predefined-higher-order-validators">Using Predefined Higher Order Validators</h4><p>You can also use predefined higher order validators found on <code>favalid/lib/validators</code>.
These validators can be combined with your original validators.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { tester, combine, minLength, regexp } from &apos;favalid&apos;;

 const combinedValidator = combine(
   minLength(3, () =&gt; &apos;too few letters&apos;), 
   regexp(/^[a-zA-Z]+$/, () =&gt; &quot;invalid format&quot;, {}),
   tester(() =&gt; {
     // some original validation rules
   }, () =&gt; (&apos;original error&apos;)),
 )
</code>
</code></pre>
<h4 id="validation-result-reducers">Validation Result Reducers</h4><p>You can aggregate validate errors with your customize error reducer using <code>conbineWithReducer(validators, reducer, initialValue)</code>.</p>
<pre><code class="lang-js"><code class="source-code prettyprint">import { tester, combineWithReducer, minLength, maxLength, regexp } from &apos;favalid&apos;;

const REQUIRED_EMAIL_MESSAGE = () =&gt; &quot;required.&quot;;

const EMAIL_REGEXP = /^(([^&lt;&gt;()\[\]\.,;:\s@\&quot;]+(\.[^&lt;&gt;()\[\]\.,;:\s@\&quot;]+)*)|(\&quot;.+\&quot;))@(([^&lt;&gt;()[\]\.,;:\s@\&quot;]+\.)+[^&lt;&gt;()[\]\.,;:\s@\&quot;]{2,})$/i;
const REGEXP_MESSAGE = () =&gt; &quot;invalid email.&quot;;

const EMAIL_MAX_LENGTH = 100;
const MAX_LENGTH_MESSAGE = () =&gt; &quot;exceeds 100 letters.&quot;;

const EMAIL_MIN_LENGTH = 10;
const MIN_LENGTH_MESSAGE = () =&gt; &quot;at least 10 letters.&quot;;

const emailValidatorWithMultipleErrorReducer = (email: string) =&gt; {
  const reducer = (prevError, currentError) =&gt; {
    if (currentError.error) {
      prevError.push(currentError);
    }
    return prevError;
  };

  return combineWithReducer(
    [
      required(REQUIRED_EMAIL_MESSAGE),
      minLength(EMAIL_MIN_LENGTH, MIN_LENGTH_MESSAGE),
      maxLength(EMAIL_MAX_LENGTH, MAX_LENGTH_MESSAGE),
      regexp(EMAIL_REGEXP, REGEXP_MESSAGE, {}),
    ],
    reducer,
    [],
  )(email);
};

console.log(emailValidatorWithMultipleErrorReducer(&apos;valid@valid.com&apos;)) // =&gt; []
console.log(emailValidatorWithMultipleErrorReducer(&apos;aaa&apos;)) // =&gt; [{error: true, message: &apos;at least 10 letters.&apos;}, {error: true, message: &apos;invalid email.&apos;}]</code>
</code></pre>
<h3 id="examples">Examples</h3><p>See <a href="src/examples">src/examples</a>.</p>
<h2 id="license">License</h2><p>This project is licensed under the Apache License 2.0 License - see the <a href="LICENSE">LICENSE</a> file for details</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
